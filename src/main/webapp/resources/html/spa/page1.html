<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>page1</title>
<style type="text/css">
	.imgs {
		width:100%;
		height: 200px;
		}
	.disNone {
		display: none;
	}
</style>
<script>
	$("button").on("click", function(){
		var bi = $("button").index(this); // 버튼의 인덱스로 방향 정의 하기 위한 변수
		var i = $(".imgs").index($(".imgs.disBlock")); // 현재 보여지는 화면의 인덱스 구하기.
		// 사라지는 효과 넣기 animate(css, 속도)
		$(".imgs").eq(i).animate({
	        opacity: '0.4' // 투명도
	    }, 1000).addClass("disNone").removeClass("disBlock");
		// addClass() : 클래스를 주입하는 함수
		// removeClass() : 해당 클래스 삭제하는 함수
		if(bi == 0){ // 왼쪽
			if(i == 0){ // 현재 인덱스가 0이면 -1값이 되지 않게 하기 위해서 사용
				i = ($(".imgs").length - 1); // 현재 이미지 갯수를 인덱스로 처리 
			}else {
				i--; // 현재 인덱스 보다 -1 되도록 처리
			}
		}else if(bi == 1){ // 오른쪽
			if(i == ($(".imgs").length - 1)){ // 현재 인덱스가 이미지 갯수 보다 커지지 않게 하기 위해서 처리
				i = 0; // 처음으로 돌아가지 위해서 0 값으로 변경
			}else {
				i++; // 현재 인덱스 보다 +1 되도록 처리
			}
		}
		$(".imgs").eq(i).addClass("disBlock").removeClass("disNone").animate({
	        opacity: '1'
	    }, 1000); // 위의 정의 되어진 내용으로 화면에 출력
	});
	var iB = null; // Interval의 객체 정보를 담기 위한 변수 (종료 할때 사용 하려고 만듬)
	function startB(){
		iB = setInterval(function(){
			var bi = 0; // 방향 정의 0이면 왼쪽으로, 1이면 오른쪽으로 화면 전환
			var i = $(".imgs").index($(".imgs.disBlock")); // 현재 보여지는 화면의 인덱스 구하기.
			// 사라지는 효과 넣기 animate(css, 속도)
			$(".imgs").eq(i).animate({
		        opacity: '0.4' // 투명도
		    }, 1000).addClass("disNone").removeClass("disBlock");
			// addClass() : 클래스를 주입하는 함수
			// removeClass() : 해당 클래스 삭제하는 함수
			if(bi == 0){ // 왼쪽
				if(i == 0){ // 현재 인덱스가 0이면 -1값이 되지 않게 하기 위해서 사용
					i = ($(".imgs").length - 1); // 현재 이미지 갯수를 인덱스로 처리 
				}else {
					i--; // 현재 인덱스 보다 -1 되도록 처리
				}
			}else if(bi == 1){ // 오른쪽
				if(i == ($(".imgs").length - 1)){ // 현재 인덱스가 이미지 갯수 보다 커지지 않게 하기 위해서 처리
					i = 0; // 처음으로 돌아가지 위해서 0 값으로 변경
				}else {
					i++; // 현재 인덱스 보다 +1 되도록 처리
				}
			}
			$(".imgs").eq(i).addClass("disBlock").removeClass("disNone").animate({
		        opacity: '1'
		    }, 1000); // 위의 정의 되어진 내용으로 화면에 출력
		}, 2000);
	}
</script>
</head>
<body>
	<div class="container">
	  <button type="button">왼쪽</button>
	  <button type="button">오른쪽</button>
	  <div onclick="startB();" style="cursor: pointer;">시작</div>
	  <div onclick="clearInterval(iB);" style="cursor: pointer;">종료</div>
	  <img class="mySlides imgs disNone" src="https://www.w3schools.com/w3css/img_fjords.jpg">
	  <img class="mySlides imgs disBlock" src="https://www.w3schools.com/w3css/img_lights.jpg">
	  <img class="mySlides imgs disNone" src="https://www.w3schools.com/w3css/img_mountains.jpg">
	  <img class="mySlides imgs disNone" src="https://www.w3schools.com/w3css/img_forest.jpg">
	</div>
</body>
</html>